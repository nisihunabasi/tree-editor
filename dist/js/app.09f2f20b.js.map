{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue","webpack:///./src/models.js","webpack:///./src/App.vue?8ecf","webpack:///./src/main.js","webpack:///./src/App.vue?34d1"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","href","target","onPressIfTabkey","onInputText","refInput","placeholder","icon","refResult","type","onClickCopyBtn","refAnimateState","onClickTmplBtn","Tree","text","treeType","TREE_TYPE_SLIM","this","inputtedText","setType","setText","replace","parseTree","rows","split","treeTexts","splitChunksOfTree","forEach","treeText","root","Node","parseFromLines","toString","join","levelOfRoot","tabNums","map","row","matched","match","Error","start","indexOf","end","tree","lines","parentNode","tabCount","chunksOfTree","chunk","isYoungest","addLeaf","childRoot","body","isRoot","leafs","leaf","prefix","reduce","prev","cur","newPrefix","components","FontAwesomeIcon","props","setup","e","getResult","keyCode","preventDefault","curPos","selectionStart","curLeftStr","substr","curRightStr","selectionEnd","navigator","clipboard","writeText","then","setTimeout","__exports__","render","library","add","faChevronRight","faChevronDown","createApp","App","component","mount"],"mappings":"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","file":"js/app.09f2f20b.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","<template>\n  <div class=\"app md:container mx-auto px-4\">\n    <div class=\"mx-auto lg:w-9/12\">\n      <h1 class=\"text-center text-3xl my-12\">\n        <!-- なんかアイコンを足したい。。。 -->\n        Tree Editor\n      </h1>\n      <p class=\"my-6\">\n        テキストベースのフォルダツリーをイチから簡単に書けるエディタです。<br />\n        タブ文字でインデントしたテキストを、ツリー文字列に変換します。（以下の入力フォームにはタブが打ち込めるようになっています。）\n      </p>\n      <div class=\"my-6 text-center relative flex flex-col md:flex-row max-w-4xl mx-auto text-center\">\n        <textarea\n          class=\"p-4 ring-1 ring-gray-400 focus:ring-2 focus:ring-gray-800 focus:outline-none flex-1 h-80\"\n          @keydown=\"onPressIfTabkey\"\n          @input=\"onInputText\"\n          :value=\"refInput\"\n          placeholder=\"Please input your tree.\"\n        ></textarea>\n        <span class=\"arrow\">\n          <font-awesome-icon icon=\"chevron-right\" />\n        </span>\n        <span class=\"sp-arrow\">\n          <font-awesome-icon icon=\"chevron-down\" />\n        </span>\n        <div class=\"result-box\">\n          <pre>{{ refResult }}</pre>\n          <button\n            class=\"\n              absolute border-b-2 border-l-2\n              text-sm px-2 py-1 top-0 right-0 bg-indigo-900 text-white\n              rounded-bl\n            \"\n            type=\"button\"\n            @click=\"onClickCopyBtn\"\n          >\n            Copy\n          </button>\n          <div class=\"copied-message\" :class=\"refAnimateState\">Copied!!</div>\n        </div>\n      </div>\n      <div class=\"my-6\">\n        <h2 class=\"mt-6 mb-5 text-xl\">テンプレート挿入</h2>\n        <button class=\"btn-default\" @click=\"onClickTmplBtn('foobar')\">foo-bar</button>&nbsp;\n        <button class=\"btn-default\" @click=\"onClickTmplBtn('html')\">HTML Project</button>&nbsp;\n        <button class=\"btn-default\" @click=\"onClickTmplBtn('vue')\">Vue.js Project</button>&nbsp;\n      </div>\n      <div class=\"my-6 py-6 px-2 border-t border-gray-400\">\n        Repo: <a href=\"https://github.com/nisihunabasi/tree-editor\" target=\"_blank\" class=\"text-blue-500 underline\">https://github.com/nisihunabasi/tree-editor</a><br>\n        Author: <a href=\"https://twitter.com/nisihunabasi\" target=\"_blank\" class=\"text-blue-500 underline\">@nisihunabasi</a>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\nimport { ref } from \"vue\";\nimport {Tree} from \"./models\";\n\nexport default {\n  name: \"App\",\n  components: {\n    FontAwesomeIcon,\n  },\n  props: {},\n  setup() {\n    const refInput = ref(\"\"); //Please input your tree.\n    const refResult = ref(\"Result here.\");\n    const refAnimateState = ref(\"\");\n\n    const tree = new Tree(\"aaa\", Tree.TREE_TYPE_SLIM);\n    const onInputText = (e) => {\n      refInput.value = e.target.value;\n      tree.setText(refInput.value);\n      refResult.value = tree.getResult();\n    };\n\n    const onPressIfTabkey = (e) => {\n      if (e.keyCode != 9) return;\n      e.preventDefault();\n      //現在のカーソルの位置を基準にタブ文字を挿入する。\n      let curPos = e.target.selectionStart;\n      let curLeftStr = e.target.value.substr(0, curPos);\n      let curRightStr = e.target.value.substr(curPos, e.target.value.length);\n\n      e.target.value = curLeftStr + \"\\t\" + curRightStr; //タブ挿入\n      e.target.selectionEnd = curPos + 1;\n      //無理やりイベントハンドラを実行して、結果を反映させる。\n      onInputText(e);\n    };\n\n    const onClickTmplBtn = (type) => {\n      //それらしいなんちゃってイベントオブジェクトを作ってInputイベントを走らせる。\n      let e = {target: {}};\n      if (type == \"html\") {\n        e.target.value = `css/\n\tmain.css\n\tnormalize.css\nimg/\njs/\n\tvendor/\n\tmain.js\n\tplugins.js\nfavicon.ico\nindex.html\nrobots.txt\n`;\n      } else if (type == \"vue\") {\n        e.target.value = `node_modules/\npublic/\n\tfavicon.ico\n\tindex.html\nsrc/\n\tassets/\n\tcomponents/\n\tApp.vue\n\tmain.js\nbabel.config.js\npackage.json\nvue.config.js\n`;\n      } else if (type == \"foobar\") {\n        e.target.value = `foo\n\tbar\n\t\tbaz`;\n      } else {\n        e.target.value = \" \";\n      }\n\n      onInputText(e);\n    }\n    const onClickCopyBtn = () => {\n      //クリップボードにコピーする。\n      navigator.clipboard.writeText(refResult.value)\n        .then(() => {\n          if (refAnimateState.value == \"animate-fade-in\") {\n            return;\n          }\n          //コピー完了吹き出しを表示し、しばらくたったら消すように設定。\n          refAnimateState.value = \"animate-fade-in\";\n          setTimeout(() => {\n            refAnimateState.value = \"animate-fade-out\";\n          }, 4000);\n        });\n    };\n\n    //expose to view\n    return {\n      onInputText,\n      refResult,\n      refInput,\n      refAnimateState,\n      onPressIfTabkey,\n      onClickTmplBtn,\n      onClickCopyBtn,\n    };\n  },\n};\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n.arrow {\n  @apply m-auto px-8 hidden md:inline-block flex-initial items-center;\n}\n.sp-arrow {\n  @apply my-8 text-center block md:hidden flex-initial;\n}\n.result-box {\n  @apply p-4 ring-1 ring-gray-200 bg-gray-100 inline-block align-top text-left relative overflow-y-scroll flex-1 h-80;\n}\n.btn-default {\n  @apply bg-gray-200 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center focus:outline-none focus:ring-2 focus:ring-gray-900 my-2;\n}\n.copied-message {\n  @apply absolute text-sm top-9 right-0 bg-black text-white px-2 py-1 rounded opacity-0;\n}\n.copied-message:before {\n  content: \"\";\n  position: absolute;\n  top: -2.2rem;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  width: 0;\n  height: 0;\n  margin: auto;\n  border-style: solid;\n  border-color: transparent transparent #000 transparent;\n  border-width: 0 8px 8px 8px;\n}\n.animate-fade-in {\n  animation: fadeIn 0.2s forwards;\n  animation-iteration-count: 1;\n}\n.animate-fade-out {\n  animation: fadeOut 0.2s forwards;\n  animation-iteration-count: 1;\n}\n\n@keyframes fadeIn {\n  0% {opacity: 0;}\n  100% {opacity: 1;}\n}\n@keyframes fadeOut {\n  0% {opacity: 1;}\n  100% {opacity: 0;}\n}\n</style>\n","/**\r\n * フォルダツリーのオブジェクト表現。\r\n * ツリー形式データ構造への変換と、それに対応した文字列表現の吐き出しの責務を持つ。\r\n * 文法の整合性確認の責務も。\r\n */\r\nexport class Tree {\r\n    constructor(text, treeType = Tree.TREE_TYPE_SLIM) {\r\n        this.inputtedText = text;\r\n        this.setType(treeType);\r\n        this.setText(text);\r\n    }\r\n    setText(text) {\r\n        //4スペもタブとみなす。\r\n        //\\sがタブ文字も1文字としてみなしてしまうみたい。スペースだけを捕捉するようにする。\r\n        //ブレーキングスペース、ノンブレーキングスペース\r\n        //全角スペースはbuild時にwebpackが弾いてくるのでしかたなく外すことにする。\r\n        this.inputtedText = text.replace(/^[  ]{4}/mg, \"\\t\");\r\n        this.parseTree();\r\n    }\r\n    setType(type) {\r\n        this.treeType = type;\r\n    }\r\n    /**\r\n     * ツリーにパースする。\r\n     * もし文法エラーがあったらこの時点で指摘する。\r\n     */\r\n    parseTree() {\r\n        let rows = this.inputtedText.split(\"\\n\");\r\n        let treeTexts = this.splitChunksOfTree(rows, 0);\r\n\r\n        let result = [];\r\n        treeTexts.forEach(treeText => {\r\n            //Root生成\r\n            let root = new Node(treeText[0], false, true);\r\n            treeText.splice(0, 1);\r\n            //root = Node.parseFromTextLines(treeText, root);\r\n            root = this.parseFromLines(treeText, root);\r\n            result.push(root.toString());\r\n        });\r\n        this.treeText = result.join(\"\\n\");\r\n    }\r\n    /**\r\n     * ツリーごとに分割する。\r\n     * トップに同レベルのノードが複数あったら、それぞれを一つのルートとしたツリーとみなし、配列のいち要素にして分ける。\r\n     * @param {Array} rows \r\n     * @param {Number} levelOfRoot ルートとみなすインデントレベル。タブの数を数えてレベルとする。デフォルトは0。\r\n     * @return {Array}\r\n     */\r\n    splitChunksOfTree(rows, levelOfRoot = 0) {\r\n        if (rows.length == 0) {\r\n            return [];\r\n        }\r\n        //タブの数を見て罫線を入れる。\r\n        //TODO 最大長を計測して処理に反映する。コメントを入力できるようにするため。\r\n        let tabNums = rows.map((row) => {\r\n            let matched = row.match(/^\\t+/);\r\n            return (matched != null) ? matched[0].length : 0;\r\n        });\r\n        //先頭行が指定したレベルではなかったら例外を吐く。\r\n        if (tabNums[0] != levelOfRoot) {\r\n            throw new Error(\"エラーが発生しました。テキストの先頭行が、指定したルートのレベルと一致しません。\");\r\n        }\r\n\r\n        let treeTexts = [];\r\n        //ルートに当たる行の位置を調べ、それを基準にツリーになるブロックに分割する。\r\n        //インデントなしの行をルートとし、それにぶら下がっている行をまとめ、1要素とする。\r\n        while (tabNums.length > 0) {\r\n            let start = tabNums.indexOf(levelOfRoot);\r\n            let end = tabNums.indexOf(levelOfRoot, start + 1);\r\n            if (end == -1) {\r\n                //他のツリールートが見つからなかったら、その時点の配列すべてを一つの塊とみなす。\r\n                treeTexts.push(rows);\r\n                tabNums = [];\r\n            } else {\r\n                let tree = rows.splice(start, end - start);\r\n                tabNums.splice(start, end - start);\r\n                treeTexts.push(tree);\r\n            }\r\n        }\r\n\r\n        return treeTexts;\r\n    }\r\n    /**\r\n     * 入力テキストをパースしてNodeを生成する。\r\n     * ルートに当たるテキストと同じレベルのタブが出現したらそこで処理を止めて返す。\r\n     * @param {Array} lines 入力テキストを行ごとに配列化したもの。1行目は必ずルートに当たる行である必要がある。\r\n     * @param {Node} parentNode 親ノード。\r\n     * @return {Node} 生成したNodeを返す。\r\n     */\r\n    parseFromLines(lines, parentNode) {\r\n        //空文字列だった場合はParentNodeをそのまま返す。\r\n        if (lines.length === 0) return parentNode;\r\n        //以降、Nodeを生成した行はlinesから削除する。\r\n\r\n        //1行目と同じインデントレベルを持つ行をルートとして、分割する。\r\n        const matched = lines[0].match(/^\\t+/);\r\n        const tabCount = (matched != null) ? matched[0].length : 0;\r\n        let chunksOfTree = this.splitChunksOfTree(lines, tabCount);\r\n        chunksOfTree.forEach((chunk, i) => {\r\n            let isYoungest = false;\r\n            if (i + 1 == chunksOfTree.length) {\r\n                isYoungest = true;\r\n            }\r\n            if (chunk.length == 0) {\r\n                //no-op\r\n            } else if (chunk.length == 1) {\r\n                parentNode.addLeaf(new Node(chunk[0], isYoungest));\r\n                //return new Node(chunk[0]);\r\n            } else {\r\n                let childRoot = new Node(chunk[0], isYoungest);\r\n                chunk.splice(0, 1);\r\n                parentNode.addLeaf(this.parseFromLines(chunk, childRoot));\r\n            }\r\n        });\r\n\r\n        return parentNode;\r\n        //ひとつ下のインデントレベルの行を、直前のひとつ上のインデントレベルを持つNodeにaddLeafする。\r\n    }\r\n    getResult() {\r\n        return this.treeText;\r\n    }\r\n\r\n    static get TREE_TYPE_WINDOWS() {\r\n        return \"win\";\r\n    }\r\n    static get TREE_TYPE_SLIM() {\r\n        return \"slim\";\r\n    }\r\n}\r\n\r\n\r\nexport class Node {\r\n    //TODO 罫線定義を外から注入できるようにしないといけない。\r\n    constructor(body, isYoungest = false, isRoot = false) {\r\n        this.leafs = [];\r\n        this.body = body.replace(/^\\t+/, \"\");   //邪魔な文字を削除する。\r\n        this.isYoungest = isYoungest;\r\n        this.isRoot = isRoot\r\n    }\r\n    addLeaf(leaf) {\r\n        this.leafs.push(leaf);\r\n    }\r\n    /**\r\n     * 文字列表現を返す。\r\n     * @param {Node} parent \r\n     * @returns {String}\r\n     */\r\n    toString(prefix = \"\") {\r\n        //まず自分を描画\r\n        let result;\r\n        if (this.isRoot) {\r\n            result = this.body;\r\n        } else {\r\n            result = (this.isYoungest) ? prefix + \"└ \" + this.body : prefix + \"├ \" + this.body;\r\n        }\r\n\r\n        //葉っぱがなければ末尾として返却する。\r\n        if (this.leafs.length === 0) {\r\n            return result;\r\n        }\r\n        //葉っぱがあればそちらも描画\r\n        result += this.leafs.reduce((prev, cur) => {\r\n            //親自身が末尾だったら改行しか加えない。\r\n            let newPrefix;\r\n            if (this.isRoot) {\r\n                newPrefix = \"\";\r\n            } else if (this.isYoungest) {\r\n                newPrefix = prefix + \"   \";\r\n            } else {\r\n                newPrefix = prefix + \"│ \";\r\n            }\r\n            return prev + \"\\n\" + cur.toString(newPrefix);\r\n        }, \"\");\r\n\r\n        return result;\r\n    }\r\n\r\n}","import { render } from \"./App.vue?vue&type=template&id=6a35cc99\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=6a35cc99&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\excha\\\\workspace\\\\tree-editor\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { faChevronRight } from '@fortawesome/free-solid-svg-icons'\nimport { faChevronDown } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'\nimport \"./index.css\"\n\nlibrary.add(faChevronRight);\nlibrary.add(faChevronDown);\n\ncreateApp(App)\n.component(\"font-awesome-icon\", FontAwesomeIcon)\n.mount('#app')\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=0&id=6a35cc99&lang=css\""],"sourceRoot":""}